<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Website</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }

        /* Navbar Styles */
        .navbar {
            background-color: #000;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            font-size: 18px;
        }

        .navbar a:hover {
            color: #e74c3c;
        }

        .container {
            padding: 20px;
            max-width: 1200px;
            margin: auto;
        }

        .product {
            display: flex;
            border: 1px solid #ddd;
            border-radius: 10px;
            background-color: white;
            margin-bottom: 20px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            align-items: center;
        }

        .product img {
            width: 200px;
            height: 120px;
            border-radius: 10px;
            margin-right: 20px;
            object-fit: cover;
            cursor: pointer;
        }

        .product-details {
            flex-grow: 1;
        }

        .product-title {
            font-size: 18px;
            font-weight: bold;
            color: #2d3436;
            margin: 0;
        }

        .price-section {
            text-align: right;
            margin-left: auto;
        }

        .current-price {
            font-size: 20px;
            font-weight: bold;
            color: #e74c3c;
        }

        .original-price {
            font-size: 16px;
            color: #bdc3c7;
            text-decoration: line-through;
        }

        .discount {
            font-size: 16px;
            color: #27ae60;
            margin-left: 5px;
        }

        .free-delivery {
            font-size: 14px;
            color: #16a085;
            font-weight: bold;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .quantity-control button {
            background-color: #ddd;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 18px;
        }

        .quantity-control span {
            font-size: 18px;
            margin: 0 10px;
        }

        .cart {
            margin-top: 30px;
            padding: 15px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .cart h2 {
            margin-top: 0;
        }

        .cart-items {
            list-style: none;
            padding: 0;
        }

        .cart-items li {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        .total-price {
            font-size: 20px;
            font-weight: bold;
            color: #e74c3c;
            margin-top: 10px;
            text-align: right;
        }

        .empty-cart {
            text-align: center;
            font-size: 16px;
            color: #888;
            font-style: italic;
        }

        .checkout-button {
            background-color: #000;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
            width: 100%;
        }

        .checkout-button:hover {
            background-color: #333;
        }

        .order-summary {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .order-summary h3 {
            margin-top: 0;
        }

        .place-order-button {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
            width: 100%;
        }

        .place-order-button:hover {
            background-color: #2ecc71;
        }

        .order-confirmation {
            text-align: center;
            font-size: 18px;
            color: #27ae60;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
        <div>
            <a href="./First_page.html">Home</a>
            <a href="./new-products.html">New Product</a>
        </div>
    </div>

    <!-- Product List -->
    <div class="container">
        <h1>Old Product List</h1>
        <div class="products-container">
            <!-- Existing Products -->
            <div class="product" data-name="Fog Lamp Front Right" data-price="2000" data-discount="20">
                <img src="./Fog Lamp Front Right.png" alt="Fog Lamp">
                <div class="product-details">
                    <p class="product-title">Fog Lamp Front Right</p>
                    <p class="current-price">₹2,000</p>
                    <p>
                        <span class="discount">20% off</span>
                    </p>
                    <p class="free-delivery">Free Delivery</p>
                    <div class="quantity-control">
                        <button class="decrease">−</button>
                        <span class="quantity">0</span>
                        <button class="increase">+</button>
                    </div>
                </div>
            </div>

            <div class="product" data-name="Front Brake Disc" data-price="3500" data-discount="25">
                <img src="./Front Brake Disc-Brake Disc.png" alt="Brake Disc">
                <div class="product-details">
                    <p class="product-title">Front Brake Disc</p>
                    <p class="current-price">₹3,500</p>
                    <p>
                        <span class="discount">25% off</span>
                    </p>
                    <p class="free-delivery">Free Delivery</p>
                    <div class="quantity-control">
                        <button class="decrease">−</button>
                        <span class="quantity">0</span>
                        <button class="increase">+</button>
                    </div>
                </div>
            </div>

            <div class="product" data-name="Fog Lamp Front Left" data-price="2000" data-discount="20">
                <img src="./Fog Lamp Front Right.png" alt="Fog Lamp">
                <div class="product-details">
                    <p class="product-title">Fog Lamp Front Left</p>
                    <p class="current-price">₹2,000</p>
                    <p>
                        <span class="discount">20% off</span>
                    </p>
                    <p class="free-delivery">Free Delivery</p>
                    <div class="quantity-control">
                        <button class="decrease">−</button>
                        <span class="quantity">0</span>
                        <button class="increase">+</button>
                    </div>
                </div>
            </div>

            <!-- Additional Products -->
            <div class="product" data-name="Car Battery" data-price="5000" data-discount="15">
                <img src="./Car Battery.webp" alt="Car Battery">
                <div class="product-details">
                    <p class="product-title">Car Battery</p>
                    <p class="current-price">₹5,000</p>
                    <p>
                        <span class="discount">15% off</span>
                    </p>
                    <p class="free-delivery">Free Delivery</p>
                    <div class="quantity-control">
                        <button class="decrease">−</button>
                        <span class="quantity">0</span>
                        <button class="increase">+</button>
                    </div>
                </div>
            </div>

            <div class="product" data-name="Engine Oil" data-price="1200" data-discount="10">
                <img src="./engine-oil.webp" alt="Engine Oil">
                <div class="product-details">
                    <p class="product-title">Engine Oil</p>
                    <p class="current-price">₹1,200</p>
                    <p>
                        <span class="discount">10% off</span>
                    </p>
                    <p class="free-delivery">Free Delivery</p>
                    <div class="quantity-control">
                        <button class="decrease">−</button>
                        <span class="quantity">0</span>
                        <button class="increase">+</button>
                    </div>
                </div>
            </div>

            <div class="product" data-name="Air Filter" data-price="800" data-discount="5">
                <img src="./air-filter.webp" alt="Air Filter">
                <div class="product-details">
                    <p class="product-title">Air Filter</p>
                    <p class="current-price">₹800</p>
                    <p>
                        <span class="discount">5% off</span>
                    </p>
                    <p class="free-delivery">Free Delivery</p>
                    <div class="quantity-control">
                        <button class="decrease">−</button>
                        <span class="quantity">0</span>
                        <button class="increase">+</button>
                    </div>
                </div>
            </div>

            <div class="product" data-name="Spark Plug" data-price="400" data-discount="10">
                <img src="./spark-plug.webp" alt="Spark Plug">
                <div class="product-details">
                    <p class="product-title">Spark Plug</p>
                    <p class="current-price">₹400</p>
                    <p>
                        <span class="discount">10% off</span>
                    </p>
                    <p class="free-delivery">Free Delivery</p>
                    <div class="quantity-control">
                        <button class="decrease">−</button>
                        <span class="quantity">0</span>
                        <button class="increase">+</button>
                    </div>
                </div>
            </div>

            <div class="product" data-name="Wiper Blade" data-price="600" data-discount="10">
                <img src="./wiper-blade.webp" alt="Wiper Blade">
                <div class="product-details">
                    <p class="product-title">Wiper Blade</p>
                    <p class="current-price">₹600</p>
                    <p>
                        <span class="discount">10% off</span>
                    </p>
                    <p class="free-delivery">Free Delivery</p>
                    <div class="quantity-control">
                        <button class="decrease">−</button>
                        <span class="quantity">0</span>
                        <button class="increase">+</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cart Section -->
        <div class="cart">
            <h2>Cart</h2>
            <ul class="cart-items"></ul>
            <p class="empty-cart">Your cart is empty</p>
            <p class="total-price">Total: ₹0</p>
            <button class="checkout-button">Checkout</button>
        </div>

        <!-- Order Summary Section -->
        <div class="order-summary" style="display: none;">
            <h3>Order Summary</h3>
            <ul class="order-items"></ul>
            <p class="total-price">Total: ₹0</p>
            <button class="place-order-button">Place Order</button>
        </div>

        <!-- Order Confirmation Message -->
        <div class="order-confirmation" style="display: none;">
            <p>Your order has been placed. Our customer care will contact you shortly.</p>
        </div>
    </div>

    <script>
        const cart = {};
        const cartItemsList = document.querySelector(".cart-items");
        const totalPriceElement = document.querySelector(".total-price");
        const emptyCartMessage = document.querySelector(".empty-cart");
        const checkoutButton = document.querySelector(".checkout-button");
        const orderSummary = document.querySelector(".order-summary");
        const orderItemsList = document.querySelector(".order-items");
        const placeOrderButton = document.querySelector(".place-order-button");
        const orderConfirmation = document.querySelector(".order-confirmation");

        function updateCartUI() {
            cartItemsList.innerHTML = "";
            let totalPrice = 0;
            let hasItems = false;

            Object.keys(cart).forEach((productName) => {
                const item = cart[productName];
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                hasItems = true;

                const listItem = document.createElement("li");
                listItem.innerHTML = `
                    <span>${item.name} (x${item.quantity})</span>
                    <span>₹${itemTotal}</span>
                `;
                cartItemsList.appendChild(listItem);
            });

            totalPriceElement.textContent = `Total: ₹${totalPrice}`;
            emptyCartMessage.style.display = hasItems ? "none" : "block";
        }

        function updateOrderSummary() {
            orderItemsList.innerHTML = "";
            let totalPrice = 0;

            Object.keys(cart).forEach((productName) => {
                const item = cart[productName];
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;

                const listItem = document.createElement("li");
                listItem.innerHTML = `
                    <span>${item.name} (x${item.quantity})</span>
                    <span>₹${itemTotal}</span>
                `;
                orderItemsList.appendChild(listItem);
            });

            orderSummary.querySelector(".total-price").textContent = `Total: ₹${totalPrice}`;
        }

        document.querySelectorAll(".product").forEach((product) => {
            const name = product.dataset.name;
            const price = parseInt(product.dataset.price);
            const discount = parseInt(product.dataset.discount);
            const quantitySpan = product.querySelector(".quantity");

            product.querySelector(".increase").addEventListener("click", () => {
                if (!cart[name]) {
                    cart[name] = { name, price: price - (price * discount / 100), quantity: 0 };
                }
                cart[name].quantity += 1;
                quantitySpan.textContent = cart[name].quantity;
                updateCartUI();
            });

            product.querySelector(".decrease").addEventListener("click", () => {
                if (cart[name] && cart[name].quantity > 0) {
                    cart[name].quantity -= 1;
                    if (cart[name].quantity === 0) {
                        delete cart[name];
                    }
                }
                quantitySpan.textContent = cart[name] ? cart[name].quantity : 0;
                updateCartUI();
            });
        });

        checkoutButton.addEventListener("click", () => {
    if (Object.keys(cart).length === 0) {
        alert("Your cart is empty. Please add products to checkout.");
        return;
    }
    localStorage.setItem("cart", JSON.stringify(cart)); // Store cart in localStorage
    window.location.href = "./Order Information.html"; // Redirect to checkout page
});

        placeOrderButton.addEventListener("click", () => {
            orderSummary.style.display = "none";
            orderConfirmation.style.display = "block";
            cart = {}; // Clear the cart
            updateCartUI();
        });

        updateCartUI();
    </script>
</body>
</html>